particionarSDA(){
	echo "SDA"
	parted -s /dev/sda -- mklabel msdos
	parted -s /dev/sda mkpart primary ext4 1MiB 65MiB	#	64M	/boot		/dev/sda1
	parted -s /dev/sda mkpart primary ext4 65MiB 3137MiB	#	3G	/		/dev/sda2
	parted -s /dev/sda mkpart extended 3137MiB 4676MiB	# 	1.539G	extended	/dev/sda3
	parted -s /dev/sda mkpart logical ext4 3138MiB 3394MiB	#	256M	/home		/dev/sda5
	parted -s /dev/sda mkpart logical ext4 3395MiB 3651MiB	#	256M	linux-swap	/dev/sda6
	parted -s /dev/sda mkpart logical ext4 3652MiB 4676MiB	#	1G	Dados3		/dev/sda7
	parted -s /dev/sda mkpart primary ext4 4676MiB 7748MiB	#	3G	Dados1		/dev/sda4
}

particionarSDB(){
	echo "SDB"
	parted -s /dev/sdb -- mklabel msdos
	parted -s /dev/sdb -- mkpart primary ext4 1MiB -1		#	3G	/Dados1		/dev/sdb1
}

particionarSDC(){
	echo "SDC"
	parted -s /dev/sdc -- mklabel msdos
	parted -s /dev/sdc -- mkpart primary ext4 1MiB -1		#	2G	/Dados2		/dev/sdc1
}

particionarSDD(){
	echo "SDD"
	parted -s /dev/sdd -- mklabel msdos
	parted -s /dev/sdd -- mkpart primary ext4 1MiB -1		#	2G	/Dados2		/dev/sdd1
}

configurarSDA(){
	parted -s /dev/sda set 1 boot on	# 
	mkswap /dev/sda6			# formata a partição de swap
	swapon /dev/sda6			# ativa a partição de swap
}

formatarParticoesSDA(){
	mkfs.ext4 /dev/sda1			# boot
	mkfs.ext4 /dev/sda2			# raiz
	mkfs.ext4 /dev/sda5			# home
	mkfs.ext4 /dev/sda7			# dados3
}

montarParticoesSDA(){
	mkdir /mnt/boot				# para criar a raiz (/mnt) e o boot (/mnt/boot)
	mount /dev/sda1 /mnt/boot		# monta a partição de boot
	mount /dev/sda2 /mnt			# monta a partição raiz
}

configurarRAID1(){
	mdadm --create --verbose --level=1 --metadata=1.2 --raid-devices=2 /dev/md0 /dev/sda4 /dev/sdb1
	mdadm --create --verbose --level=1 --metadata=1.2 --raid-devices=2 /dev/md1 /dev/sdc1 /dev/sdd1
	echo 'DEVICE partitions' > /etc/mdadm.conf
	mdadm --detail --scan >> /etc/mdadm.conf
	### mdadm --assemble --scan # montagem do raid depois da atualizacao (ATENCAO)
	mkfs.ext4 /dev/md0
	mkfs.ext4 /dev/md1
}

instalarSistema(){
	pacstrap /mnt base base-devel grub-bios	# instala o sistema na partição raiz (cronie = agendador de tarefas)
	genfstab -U -p /mnt >> /mnt/etc/fstab	# cria a tabela de discos
}

sss(){
	cat /proc/mdstat # mostra status da criacao do raid (criar um while)
}

apagarParticoes(){
	parted -s /dev/sda rm 1
	parted -s /dev/sda rm 2
	parted -s /dev/sda rm 3
	parted -s /dev/sda rm 4
	parted -s /dev/sdb rm 1
	parted -s /dev/sdb rm 2
	parted -s /dev/sdb rm 3
	parted -s /dev/sdb rm 4
	parted -s /dev/sdc rm 1
	parted -s /dev/sdc rm 2
	parted -s /dev/sdc rm 3
	parted -s /dev/sdc rm 4
	parted -s /dev/sdd rm 1
	parted -s /dev/sdd rm 2
	parted -s /dev/sdd rm 3
	parted -s /dev/sdd rm 4
	mdadm --zero-superblock /dev/sda
	mdadm --zero-superblock /dev/sdb
	mdadm --zero-superblock /dev/sdc
	mdadm --zero-superblock /dev/sdd
}

apagarParticoes
particionarSDA
particionarSDB
particionarSDC
particionarSDD
configurarSDA
formatarParticoesSDA
montarParticoesSDA
instalarSistema

#configurarRAID1
